.\"Modified from man(1) of FreeBSD, the NetBSD mdoc.template, and mdoc.samples.
.\"See Also:
.\"man mdoc.samples for a complete listing of options
.\"man mdoc for the short list of editing options
.\"/usr/share/misc/mdoc.template
.Dd January 16, 2019
.Dt mdimport 1
.Os Mac\ OS X
.Sh NAME
.Nm mdimport
.Nd import file hierarchies into the metadata datastore.
.Sh SYNOPSIS
.Nm mdimport
.Op Fl itpAXLr
.Op Fl d Ar level
.Op Fl o outputfile
[
.Ar file | directory
.Ar ...
]
.Sh DESCRIPTION
.Nm mdimport
is used to test Spotlight plug-ins, list the installed plug-ins and schema, and re-index files handled by a plug-in when a new plug-in is installed.
.Pp
The following options are available:
.Bl -tag -width -d\ seconds
.It Fl i
Request Spotlight to import
.Ar file
or recursively import
.Ar directory .
The files will be imported using the normal mechanisms and attributes will be stored in the Spotlight index. This is the implied switch if none are specified.
.It Fl t
Request Spotlight to test import
.Ar file ,
sending the result back to
.Nm mdimport
for possible further processing. The attributes will not be stored in the Spotlight index. This is useful to test Spotlight import plug-ins.
.It Fl d Ar level
Print debugging information.  This requires
.Fl t .
.Bd -literal -offset indent
.It Fl d1
print summary of test import
.It Fl d2
print summary of import and all attributes, except kMDItemTextContent
.It Fl d3
print summary of import and all attributes
.Ed
.It Fl o Ar outfile
Store attribute into
.Ar outfile .
This requires
.Fl t .
.It Fl p
Print out performance information gathered during the run.  This requires
.Fl t .
.It Fl A
Print out the list of all of the attributes and their
localizations in the current language and exit.
.It Fl X
Print the schema file and exit.
.It Fl L
Print the list of installed importers and exit.
.It Fl r
Ask the server to reimport files for UTIs claimed by the listed plugin.
For example, the following would cause all of the chat files on the system to be reimported:
.Bd -literal -offset indent
mdimport -r /System/Library/Spotlight/Chat.mdimporter 
.Ed
.El
.Pp
.Sh NOTES
.Fl f
is obsolete in Leopard and beyond.
.Sh SEE ALSO
.Xr mdfind 1 ,
.Xr mdutil 1 ,
.Xr mdls 1
.\" .Sh BUGS              \" Document known, unremedied bugs
.\" .Sh HISTORY           \" Document history if command behaves in a unique manner
