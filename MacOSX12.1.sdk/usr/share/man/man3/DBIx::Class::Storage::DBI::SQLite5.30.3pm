.\" Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "DBIx::Class::Storage::DBI::SQLite 3"
.TH DBIx::Class::Storage::DBI::SQLite 3 "2018-01-29" "perl v5.30.2" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
DBIx::Class::Storage::DBI::SQLite \- Automatic primary key class for SQLite
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 3
\&  # In your table classes
\&  use base \*(AqDBIx::Class::Core\*(Aq;
\&  _\|_PACKAGE_\|_\->set_primary_key(\*(Aqid\*(Aq);
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
This class implements autoincrements for SQLite.
.SS "Known Issues"
.IX Subsection "Known Issues"
.IP "\s-1RT79576\s0" 4
.IX Item "RT79576"
.Vb 1
\& NOTE \- This section applies to you only if ALL of these are true:
\&
\&  * You are or were using DBD::SQLite with a version lesser than 1.38_01
\&
\&  * You are or were using DBIx::Class versions between 0.08191 and 0.08209
\&    (inclusive) or between 0.08240\-TRIAL and 0.08242\-TRIAL (also inclusive)
\&
\&  * You use objects with overloaded stringification and are feeding them
\&    to DBIC CRUD methods directly
.Ve
.Sp
An unfortunate chain of events led to DBIx::Class silently hitting the problem
described in RT#79576 <https://rt.cpan.org/Public/Bug/Display.html?id=79576>.
.Sp
In order to trigger the bug condition one needs to supply \fBmore than one\fR
bind value that is an object with overloaded stringification (numification
is not relevant, only stringification is). When this is the case the internal
DBIx::Class call to \f(CW\*(C`$sth\->bind_param\*(C'\fR would be executed in a way that
triggers the above-mentioned DBD::SQLite bug. As a result all the logs and
tracers will contain the expected values, however SQLite will receive \fBall\fR
these bind positions being set to the value of the \fBlast\fR supplied
stringifiable object.
.Sp
Even if you upgrade DBIx::Class (which works around the bug starting from
version 0.08210) you may still have corrupted/incorrect data in your database.
DBIx::Class warned about this condition for several years, hoping to give
anyone affected sufficient notice of the potential issues. The warning was
removed in 2015/v0.082820.
.SH "METHODS"
.IX Header "METHODS"
.SS "connect_call_use_foreign_keys"
.IX Subsection "connect_call_use_foreign_keys"
Used as:
.PP
.Vb 1
\&    on_connect_call => \*(Aquse_foreign_keys\*(Aq
.Ve
.PP
In connect_info to turn on foreign key
(including cascading) support for recent versions of SQLite and DBD::SQLite.
.PP
Executes:
.PP
.Vb 1
\&  PRAGMA foreign_keys = ON
.Ve
.PP
See <http://www.sqlite.org/foreignkeys.html> for more information.
.SH "FURTHER QUESTIONS?"
.IX Header "FURTHER QUESTIONS?"
Check the list of additional \s-1DBIC\s0 resources.
.SH "COPYRIGHT AND LICENSE"
.IX Header "COPYRIGHT AND LICENSE"
This module is free software copyright
by the DBIx::Class (\s-1DBIC\s0) authors. You can
redistribute it and/or modify it under the same terms as the
DBIx::Class library.
